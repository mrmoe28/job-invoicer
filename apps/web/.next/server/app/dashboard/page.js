(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7334:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(7883),s(9602),s(5999);var a=s(7188),r=s(8659),n=s(2067),l=s.n(n),o=s(9786),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7883)),"/Volumes/ORICO/Development/constructflow/apps/web/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9602)),"/Volumes/ORICO/Development/constructflow/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5999,23)),"next/dist/client/components/not-found-error"]}],d=["/Volumes/ORICO/Development/constructflow/apps/web/app/dashboard/page.tsx"],u="/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1231:(e,t,s)=>{Promise.resolve().then(s.bind(s,6129))},6129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(7491),r=s(6364),n=s(1082),l=s(7431);let o={quoted:"bg-blue-600",scheduled:"bg-purple-600",in_progress:"bg-orange-500",on_hold:"bg-yellow-600",completed:"bg-green-700",cancelled:"bg-red-600"},i={Todo:"bg-gray-600","In Progress":"bg-blue-600",Completed:"bg-green-600",Blocked:"bg-red-600"},c={low:"bg-green-600",medium:"bg-yellow-600",high:"bg-orange-600",urgent:"bg-red-600"},d={Client:"bg-blue-600",Supplier:"bg-green-600",Contractor:"bg-purple-600",Employee:"bg-orange-600"};function u({variant:e,value:t,size:s="md",className:r=""}){let n=(()=>{if("job-status"===e)switch(t){case"Draft":return"\uD83D\uDCDD";case"Quoted":return"\uD83D\uDCB0";case"Approved":return"✅";case"Scheduled":return"\uD83D\uDCC5";case"In Progress":return"\uD83D\uDD27";case"On Hold":return"⏸️";case"Completed":return"✨";case"Cancelled":return"❌";case"Invoiced":return"\uD83E\uDDFE";default:return null}if("task-status"===e)switch(t){case"Todo":return"⏳";case"In Progress":return"\uD83D\uDD04";case"Completed":return"✅";case"Blocked":return"\uD83D\uDEAB";default:return null}if("priority"===e)switch(t){case"Low":return"\uD83D\uDFE2";case"Medium":return"\uD83D\uDFE1";case"High":return"\uD83D\uDFE0";case"Urgent":return"\uD83D\uDD34";default:return null}if("contact-type"===e)switch(t){case"Client":return"\uD83D\uDC64";case"Supplier":return"\uD83D\uDCE6";case"Contractor":return"\uD83D\uDD28";case"Employee":return"\uD83D\uDC77"}return null})();return(0,a.jsxs)("span",{className:`
        inline-flex items-center font-medium rounded-full text-white
        ${(()=>{switch(e){case"job-status":return o[t];case"task-status":return i[t];case"priority":return c[t];case"contact-type":return d[t];default:return"bg-gray-600"}})()}
        ${(()=>{switch(s){case"sm":return"px-2 py-0.5 text-xs";case"lg":return"px-3 py-1.5 text-base";default:return"px-2 py-1 text-sm"}})()}
        ${r}
      `,children:[n&&a.jsx("span",{className:"mr-1",children:n}),t]})}function m({status:e,size:t="md",className:s=""}){return a.jsx(u,{variant:"job-status",value:e,size:t,className:s})}function h({priority:e,size:t="md",className:s=""}){return a.jsx(u,{variant:"priority",value:e,size:t,className:s})}var x=s(385);function p(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)("Monthly"),o=x.S.hello.useQuery({name:"Team"}),i=x.S.getUsers.useQuery(),c=x.S.getDashboardStats.useQuery(),d=x.S.getJobs.useQuery({}),u=()=>{e.push("/dashboard/jobs")},p=e=>{s(e),console.log(`Analytics timeframe changed to: ${e}`)},g=t=>{console.log(`Selected date: June ${t}, 2025`),e.push(`/dashboard/scheduling?date=2025-06-${t.toString().padStart(2,"0")}`)},b=c.data?{totalContacts:c.data.totalContacts,activeJobs:c.data.activeJobs,completedJobsThisMonth:c.data.completedJobs,totalRevenue:125600,averageJobValue:10466,conversionRate:.68,completionRate:c.data.completionRate,crewUtilization:.76}:{totalContacts:0,activeJobs:0,completedJobsThisMonth:0,totalRevenue:0,averageJobValue:0,conversionRate:0,completionRate:0,crewUtilization:0},v=d.data||[],j=[{title:"Total Contacts",value:b.totalContacts.toString(),subtitle:"Active contacts",change:"+3 this week",changeType:"positive",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{title:"Active Jobs",value:b.activeJobs.toString(),subtitle:"In progress",change:"+2 this month",changeType:"positive",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"})})},{title:"Revenue",value:`$${(b.totalRevenue/1e3).toFixed(0)}k`,subtitle:"This month",change:`$${b.averageJobValue.toLocaleString()} avg`,changeType:"neutral",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Completion Rate",value:`${Math.round(100*b.completionRate)}%`,subtitle:"On-time delivery",change:`${Math.round(100*b.conversionRate)}% conversion`,changeType:"positive",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return a.jsx(l.default,{title:"Dashboard",subtitle:"Overview of your business operations and performance",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white",children:e.icon}),a.jsx("span",{className:`text-sm font-medium ${"positive"===e.changeType?"text-green-400":"negative"===e.changeType?"text-red-400":"text-gray-400"}`,children:e.change})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:e.title}),a.jsx("p",{className:"text-3xl font-bold text-white mb-1",children:e.value}),a.jsx("p",{className:"text-gray-500 text-sm",children:e.subtitle})]})]},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Welcome to your CRM Dashboard"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Your personalized hub for managing client relationships, tracking jobs, and monitoring your team's performance—all in one place."}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{e.push("/dashboard/contacts")},className:"btn-primary",children:"Add Contact"}),a.jsx("button",{onClick:u,className:"btn-secondary",children:"Create Job"})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar"}),a.jsx("button",{onClick:()=>{e.push("/dashboard/scheduling")},className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Open full calendar",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Select a date to view or schedule jobs"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-center text-white font-semibold",children:"June 2025"}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-xs",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>a.jsx("div",{className:"text-gray-400 text-center p-1",children:e},e)),Array.from({length:30},(e,t)=>a.jsx("button",{onClick:()=>g(t+1),className:`text-center p-1 rounded transition-colors cursor-pointer ${13===t?"bg-orange-500 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:t+1},t))]})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Jobs"}),a.jsx("button",{onClick:u,className:"btn-primary text-sm",children:"View All Jobs"})]})}),a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(e=>a.jsx("div",{className:"bg-gray-750 border border-gray-650 rounded-lg p-4 hover:bg-gray-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium mb-1",children:e.title}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:e.location||"No location specified"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-300",children:[e.estimatedStartDate&&(0,a.jsxs)("span",{children:["Start: ",new Date(e.estimatedStartDate).toLocaleDateString()]}),e.estimatedBudget&&(0,a.jsxs)("span",{children:["Budget: $",parseFloat(e.estimatedBudget).toLocaleString()]}),(0,a.jsxs)("span",{children:["Company: ",e.companyName]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[a.jsx(h,{priority:e.priority,size:"sm"}),a.jsx(m,{status:e.status,size:"sm"})]})]})},e.id)):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"No jobs found. Create your first job to get started!"})})})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Performance Analytics"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>p("Weekly"),className:`px-3 py-1 rounded text-sm transition-colors ${"Weekly"===t?"bg-blue-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"Weekly"}),a.jsx("button",{onClick:()=>p("Monthly"),className:`px-3 py-1 rounded text-sm transition-colors ${"Monthly"===t?"bg-blue-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>p("Yearly"),className:`px-3 py-1 rounded text-sm transition-colors ${"Yearly"===t?"bg-blue-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"Yearly"})]})]})}),a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Track your business performance over time"}),a.jsx("div",{className:"h-64 bg-gray-700 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-gray-400 text-center",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{children:"Performance chart will appear here"})]})})]}),(o.data||i.data)&&(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-gray-300",children:"API Connection: "}),a.jsx("span",{className:"text-green-400 font-medium",children:o.data||"Connected"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-gray-300",children:"Active Users: "}),(0,a.jsxs)("span",{className:"text-green-400 font-medium",children:[i.data?.length||0," online"]})]})]})]})]})})}},7883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(4798).createProxy)(String.raw`/Volumes/ORICO/Development/constructflow/apps/web/app/dashboard/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[836,815,107,147],()=>s(7334));module.exports=a})();